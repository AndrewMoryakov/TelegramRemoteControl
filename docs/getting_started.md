# Getting Started (для пользователей)

Этот документ объясняет, как подключить свои устройства и начать пользоваться ботом.

---

## 1) Что нужно заранее

- Доступ к Telegram‑боту (токен уже настроен на сервере).
- Доступ к Hub‑серверу (URL вида `http://host:5000`).
- Агент на вашем ПК (папка `hub-agent/src/TelegramRemoteControl.Agent`).
- Если используется Tailscale — быть в одной tailnet с Hub.

---

## 2) Первое взаимодействие с ботом

1. Откройте чат с ботом и отправьте `/start`.
2. Если доступ закрыт — бот сообщит ваш ID и попросит дождаться одобрения.
   Можно отправить `/register`, чтобы повторно показать ID.

---

## 3) Привязка ПК

1. В боте выполните команду:
   ```
   /addpc
   ```
2. Бот выдаст код привязки (действует 10 минут).

---

## 4) Запуск агента на ПК

Запустите агент в режиме настройки:
```
dotnet run --project hub-agent/src/TelegramRemoteControl.Agent/TelegramRemoteControl.Agent.csproj -- --setup
```

CLI попросит:
- Hub URL
- Pairing code (из бота)
- Friendly name

Можно запускать без интерактива:
```
dotnet run --project hub-agent/src/TelegramRemoteControl.Agent/TelegramRemoteControl.Agent.csproj -- --hub http://<host>:5000 --pair КОД_ИЗ_БОТА --name "Мой ПК"
```

После этого запускайте агент обычно:
```
dotnet run --project hub-agent/src/TelegramRemoteControl.Agent/TelegramRemoteControl.Agent.csproj
```

После успешной привязки агент:
- Получит `AgentToken`
- Сохранит его в `appsettings.json`
- Очистит `PairingCode`

Дальше достаточно запускать агент без PairingCode.

---

## 5) Выбор устройства в боте

В боте выполните:
```
/pc
```
Выберите устройство из списка.  
Выбор сохраняется между перезапусками сервиса.

---

## 6) Уведомления о статусе устройства

По умолчанию уведомления выключены.

Включить:
```
/notify on
```

Выключить:
```
/notify off
```

Проверить статус:
```
/notify
```

---

## 7) Быстрая проверка

Попробуйте команды:
```
/status
/monitor
/processes
/files
```

---

## 8) Частые проблемы

- **Agent не подключается:** проверьте `HubUrl`, порт `5000`, доступность Hub, Tailscale.
- **Код привязки просрочен:** выполните `/addpc` заново.
- **Нет доступа:** ваш ID должен быть одобрен администратором через `/approve <userId>`.

---

Если нужно, попросите админа добавить вас в список или выдать инструкции по сети.
